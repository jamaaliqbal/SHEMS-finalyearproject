{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"h2\", null, \"Weather in \" + _toDisplayString($data.city), 1 /* TEXT */), _createCommentVNode(\" <p>Temperature: {{ weather.temperature }}°C</p> \"), _createCommentVNode(\" <p>Condition: {{  weather.weather }}</p> \"), $data.currentWeather ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"h3\", null, \"Current Weather\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, \"Temperature: \" + _toDisplayString($data.currentWeather.main.temp) + \"°C\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"Condition: \" + _toDisplayString($data.currentWeather.weather[0].description), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $data.forecast.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[3] || (_cache[3] = [_createElementVNode(\"h3\", null, \"5-Day Forecast\", -1 /* HOISTED */), _createElementVNode(\"ul\", null, [_createCommentVNode(\" <li v-for=\\\"forecast in forecast\\\" :key=\\\"forecast.dt\\\">\\r\\n                    <p>Date: {{ new Date(forecast.dt * 1000).toLocaleDateString() }}</p>\\r\\n                    <p>Temperature: {{ forecast.main.temp }}°C</p>\\r\\n                    <p>Condition: {{ forecast.weather[0].description }}</p>\\r\\n                </li> \"), _createCommentVNode(\" <li v-for=\\\"(day, index) in forecast\\\" :key=\\\"index\\\">\\r\\n                    <strong>{{ day.dt }}</strong>: {{ day.temp }}°C - {{ day.weather[0].description }}\\r\\n                </li> \")], -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.city = $event),\n    placeholder: \"Enter city\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.city]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.getWeather && $options.getWeather(...args))\n  }, \"Get Weather\")]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","_toDisplayString","$data","city","_createCommentVNode","currentWeather","_hoisted_1","main","temp","weather","description","forecast","length","_hoisted_2","_cache","$event","placeholder","onClick","args","$options","getWeather"],"sources":["C:\\Users\\Jamaa\\Final Year Project\\frontend\\src\\components\\WeatherView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>Weather in {{ city }}</h2>\r\n        <!-- <p>Temperature: {{ weather.temperature }}°C</p> -->\r\n        <!-- <p>Condition: {{  weather.weather }}</p> -->\r\n        <div v-if=\"currentWeather\">\r\n            <h3>Current Weather</h3>\r\n            <p>Temperature: {{ currentWeather.main.temp }}°C</p>\r\n            <p>Condition: {{ currentWeather.weather[0].description }}</p>\r\n        </div>\r\n        <div v-if=\"forecast.length\">\r\n            <h3>5-Day Forecast</h3>\r\n            <ul>\r\n                <!-- <li v-for=\"forecast in forecast\" :key=\"forecast.dt\">\r\n                    <p>Date: {{ new Date(forecast.dt * 1000).toLocaleDateString() }}</p>\r\n                    <p>Temperature: {{ forecast.main.temp }}°C</p>\r\n                    <p>Condition: {{ forecast.weather[0].description }}</p>\r\n                </li> -->\r\n                <!-- <li v-for=\"(day, index) in forecast\" :key=\"index\">\r\n                    <strong>{{ day.dt }}</strong>: {{ day.temp }}°C - {{ day.weather[0].description }}\r\n                </li> -->\r\n            </ul>\r\n        </div>\r\n        <input v-model=\"city\" placeholder=\"Enter city\">\r\n        <button @click=\"getWeather\">Get Weather</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            city: \"London\",\r\n            currentWeather: null,\r\n            forecast: []\r\n        };\r\n    },\r\n    methods: {\r\n        async getWeather() {\r\n            try {\r\n                const response = await axios.get(`http://127.0.0.1:8000/api/weather/?city=${this.city}`);\r\n                console.log(response);\r\n                console.log(\"Reponse data:\", response.data)\r\n                this.currentWeather = response.data.weather\r\n                console.log(\"Current weather: \" + this.currentWeather)\r\n                this.forecast = response.data.forecast.list.slice(0,5);\r\n                console.log(\"Forecast: \" + this.forecast)\r\n                \r\n                // const data = await response.json();\r\n                // console.log(\"Weather data: \", data)\r\n                // if (data.error){\r\n                //     alert(\"City not found\");\r\n                // } else {\r\n                //     this.weather = data;\r\n                // }\r\n            } catch (error) {\r\n                console.error(\"Error fetching weather data:\", error);\r\n            }\r\n                \r\n        }\r\n    },\r\n    mounted() {\r\n        this.getWeather();\r\n    }\r\n}\r\n</script>"],"mappings":";;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;uBACIC,mBAAA,CAwBM,cAvBFC,mBAAA,CAA8B,YAA1B,aAAW,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,IAAI,kBACtBC,mBAAA,qDAAwD,EACxDA,mBAAA,8CAAiD,EACtCF,KAAA,CAAAG,cAAc,I,cAAzBN,mBAAA,CAIM,OATdO,UAAA,G,0BAMYN,mBAAA,CAAwB,YAApB,iBAAe,sBACnBA,mBAAA,CAAoD,WAAjD,eAAa,GAAAC,gBAAA,CAAGC,KAAA,CAAAG,cAAc,CAACE,IAAI,CAACC,IAAI,IAAG,IAAE,iBAChDR,mBAAA,CAA6D,WAA1D,aAAW,GAAAC,gBAAA,CAAGC,KAAA,CAAAG,cAAc,CAACI,OAAO,IAAIC,WAAW,iB,KARlEN,mBAAA,gBAUmBF,KAAA,CAAAS,QAAQ,CAACC,MAAM,I,cAA1Bb,mBAAA,CAYM,OAtBdc,UAAA,EAAAC,MAAA,QAAAA,MAAA,OAWYd,mBAAA,CAAuB,YAAnB,gBAAc,qBAClBA,mBAAA,CASK,aARDI,mBAAA,wUAIS,EACTA,mBAAA,+LAES,C,0BApBzBA,mBAAA,gB,gBAuBQJ,mBAAA,CAA+C;IAvBvD,uBAAAc,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAuBwBb,KAAA,CAAAC,IAAI,GAAAY,MAAA;IAAEC,WAAW,EAAC;iDAAlBd,KAAA,CAAAC,IAAI,E,GACpBH,mBAAA,CAAgD;IAAvCiB,OAAK,EAAAH,MAAA,QAAAA,MAAA,UAAAI,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;KAAE,aAAW,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}